# Reproducible Research: Peer Assessment 1

## Loading and preprocessing the data

1. Read in activity monitoring dataset.

Set working directory:
``` {r}
setwd("~/CourseraHW/RepData_PeerAssessment1")
```
Create a data subdirectory if it does not exist:
``` {r} 
if (!file.exists("data")) {
        dir.create("data")
}
```
Download file and unzip if it isn't already there:
``` {r}
filePath <- "./data/"
fileZipName <- "repdata-data-activity.zip"
fileName <- "activity.csv"
fileUrl <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"

ZipFile <- paste0(filePath, fileZipName)        # path to zipped data file
if (!file.exists(ZipFile)) {
        download.file(fileUrl, destfile = ZipFile, method ="curl")
        unzip(ZipFile, exdir=filePath)
        dateDownloaded <- date()
}
raw <- read.csv(paste0(filePath, fileName),colClasses = c("integer", "character", "integer"))
```

2. Process/transform the data into a format suitable for analysis
``` {r}
clean <- na.omit(raw)
clean$date <- as.factor(clean$date)
clean$interval <- as.factor(clean$interval)
```

## What is mean total number of steps taken per day?

For this part of the assignment, you can ignore the missing values in the dataset.

1. Make a histogram of the total number of steps taken each day
```{r}
dailysteps <- with(clean, tapply(steps, date, sum))
myhist <- hist(dailysteps, xlab='steps', main='Histogram of Daily Steps')
```

2. Calculate and report the **mean** and **median** total number of steps taken per day
```{r}
echo = TRUE
cat("Mean Number of Daily Steps = ", mean(dailysteps))
cat("Median Number of Daily Step =", median(dailysteps))
```

## What is the average daily activity pattern?
1. Make a time series plot (i.e. `type = "l"`) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)
```{r}
intervalsteps <- with(clean, tapply(steps, interval, mean))
df <- as.data.frame(intervalsteps)

my <- plot(intervalsteps, type="l", 
           xlab='5-minute interval', ylab='Number of Steps',
           main='Average Number of Steps')
```


df <- as.data.frame(intervalsteps)
times <- as.data.frame(rownames(intervalsteps))
zzz <- cbind(times, df)
row.names(zzz) <- NULL
names(zzz)[1] <- "time"
names(zzz)[2] <- "steps"

plot(zzz)

melted <- melt(times, df)

m<- as.matrix(intervalsteps)

names(df)[1] <- "time"

library(reshape)
x<-melt(data.frame(time=as.integer(rownames(intervalsteps)), intervalsteps))


2. Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?


## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
